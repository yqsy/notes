---
title: 分布式系统幂等
date: 2018-07-01 15:43:39
categories: [微服务]
---


<!-- TOC -->

- [1. 说明](#1-说明)

<!-- /TOC -->

<a id="markdown-1-说明" name="1-说明"></a>
# 1. 说明

* https://www.zhihu.com/question/27744795/answer/51791592

> 重复消息是SOA服务实现中非常常见的问题,`永远不要指望调用方每次请求都不重复`.读操作没啥问题,`写操作就是灾难`

> 通过幂等(idempotent)模式处理重复的消息,基本思路就是:
* 调用者给消息一个唯一请求ID标识,ID标识一个工作单元,工作单元可以是`Schema的一部分`,也可以是一个`定制的SOAP Header`, 服务的`Contract`
* 接受者在执行一个工作单元的时候,必须先校验工作单元是否被执行过,如果有直接返回相应消息,如果没有当做新请求去处理

