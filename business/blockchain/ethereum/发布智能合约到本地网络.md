<!-- TOC -->

- [1. 说明](#1-说明)
- [2. truffle](#2-truffle)
- [5. remix + metamask](#5-remix--metamask)
- [6. 参考资料](#6-参考资料)

<!-- /TOC -->


<a id="markdown-1-说明" name="1-说明"></a>
# 1. 说明

参考之前的文章<私有链>,搭建本地挖矿环境.

注意需要开启rpc接口

```bash
geth --datadir /mnt/disk1/linux/env/ethereum/data1 --networkid 15 --rpc --rpccorsdomain "*"
```

底层rpc: 在代码中下段跟踪,会发现都调用了SendTransaction. 关键参数是: 

* from: 哪个eth地址发布的
* gasPrice: gas值多少个eth
* gas: gas 上限
* data: 合约

<a id="markdown-2-truffle" name="2-truffle"></a>
# 2. truffle

```bash
cat >> /mnt/disk1/linux/reference/test/turffletest/truffle-config.js << EOF
var HDWalletProvider = require("truffle-hdwallet-provider");
var mnemonic = 'elevator across vital picnic pluck save guitar series matter purse rude brave'

module.exports = {
  networks: {
    local: {
      provider: function() {
        return new HDWalletProvider(mnemonic, "http://127.0.0.1:8545")
      },
      network_id: 15,
      gas: 2000000,
      gasPrice: 183000
    }   
  }
};
EOF

# 打开控制台  (以太坊本地网rpc,监听8545)
truffle console --network local

# 编译 & 部署
compile
migrate
```


<a id="markdown-5-remix--metamask" name="5-remix--metamask"></a>
# 5. remix + metamask

* https://remix.ethereum.org/#optimize=false&version=soljson-v0.5.0+commit.1d4f565a.js

<a id="markdown-6-参考资料" name="6-参考资料"></a>
# 6. 参考资料

* https://ethereum.stackexchange.com/questions/3149/how-do-you-get-a-json-file-abi-from-a-known-contract-address (如何编译获得abi和bin)
* https://ethereum.stackexchange.com/questions/28870/whats-next-after-compiling-using-solidity-compiler-command-line-and-getting-the (如何使用js库发布合约)
